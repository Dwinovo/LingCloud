spring.application.name=ling_cloud

# Primary datasource configuration
spring.datasource.url=${MYSQL_URL}
spring.datasource.username=root
spring.datasource.password=${MYSQL_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Redis 连接信息，提供默认值避免缺少环境变量时启动失败
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=6379
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.database=0

# Spring Session 使用 Redis
spring.session.store-type=redis
spring.session.redis.namespace=spring:session
server.servlet.session.timeout=30m


# Basic MyBatis tuning so DB column names map cleanly to Java fields
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.mapper-locations=classpath*:mapper/*.xml

# Enable 404 handling for REST APIs
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

aliyun.oss.endpoint=oss-cn-beijing.aliyuncs.com
aliyun.oss.access-key-id=${ALI_AK_ID}
aliyun.oss.access-key-secret=${ALI_AK_SECRET}
aliyun.oss.bucket-name=ling-cloud111

# File upload configuration
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=0
