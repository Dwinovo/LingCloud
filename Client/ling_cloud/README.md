# LingCloud å‰ç«¯

ä¸€ä¸ªçŽ°ä»£åŒ–çš„äº‘å­˜å‚¨æœåŠ¡å‰ç«¯åº”ç”¨ï¼Œæ”¯æŒæ–‡ä»¶åŠ å¯†ä¸Šä¼ ã€åŽ»é‡å’Œå®‰å…¨å­˜å‚¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ðŸ” **å®‰å…¨è®¤è¯**: ç”¨æˆ·æ³¨å†Œ/ç™»å½•ï¼ŒJWT Token è®¤è¯
- ðŸ”’ **æ”¶æ•›åŠ å¯†**: åŸºäºŽæ–‡ä»¶å†…å®¹å“ˆå¸Œçš„å®¢æˆ·ç«¯åŠ å¯†
- âš¡ **ç§’ä¼ åŠŸèƒ½**: ç›¸åŒæ–‡ä»¶åŸºäºŽå“ˆå¸ŒåŽ»é‡ï¼Œé¿å…é‡å¤ä¸Šä¼ 
- ðŸŽ¨ **çŽ°ä»£ç•Œé¢**: Element Plus ç»„ä»¶åº“ï¼Œè“ç™½ç§‘æŠ€é£Žè®¾è®¡
- ðŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

## æŠ€æœ¯æ ˆ

- **æ¡†æž¶**: Vue 3 + TypeScript
- **UIç»„ä»¶**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **åŠ å¯†**: Crypto.js
- **æž„å»ºå·¥å…·**: Vite

## é¡¹ç›®ç»“æž„

```
src/
â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ LoginPage.vue   # ç™»å½•/æ³¨å†Œé¡µé¢
â”‚   â””â”€â”€ Dashboard.vue   # ä¸»æŽ§åˆ¶å°é¡µé¢
â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ auth.ts         # è®¤è¯çŠ¶æ€
â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.ts        # è·¯ç”±å®šä¹‰
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.ts          # API æŽ¥å£
â”‚   â””â”€â”€ crypto.ts       # åŠ å¯†å·¥å…·
â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â””â”€â”€ main.ts             # å…¥å£æ–‡ä»¶
```

## å®‰è£…å’Œè¿è¡Œ

### çŽ¯å¢ƒè¦æ±‚

- Node.js >= 16
- npm >= 7

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†è¿è¡Œåœ¨ http://localhost:5173/

### æž„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## æ ¸å¿ƒåŠŸèƒ½è¯´æ˜Ž

### 1. ç”¨æˆ·è®¤è¯

- **ç™»å½•**: ç”¨æˆ·å/å¯†ç ç™»å½•ï¼Œæ”¯æŒ Cookie å­˜å‚¨è®¤è¯ä¿¡æ¯
- **æ³¨å†Œ**: æ–°ç”¨æˆ·æ³¨å†Œï¼ŒåŒ…å«ç”¨æˆ·åã€æ˜µç§°å’Œå¯†ç 
- **è®¤è¯çŠ¶æ€**: ä½¿ç”¨ Pinia ç®¡ç†ç”¨æˆ·ç™»å½•çŠ¶æ€

### 2. æ–‡ä»¶åŠ å¯†

**æ”¶æ•›åŠ å¯†ï¼ˆConvergent Encryptionï¼‰**:
- è®¡ç®—æ–‡ä»¶æ˜Žæ–‡å“ˆå¸Œä½œä¸ºåŠ å¯†å¯†é’¥
- ä½¿ç”¨ AES å¯¹ç§°åŠ å¯†ç®—æ³•
- ç›¸åŒæ–‡ä»¶äº§ç”Ÿç›¸åŒçš„åŠ å¯†ç»“æžœï¼Œå®žçŽ°åŽ»é‡

```typescript
// è®¡ç®—æ–‡ä»¶å“ˆå¸Œ
const hashPlain = await calculateFileHash(file)

// ä½¿ç”¨å“ˆå¸Œä½œä¸ºå¯†é’¥åŠ å¯†
const encryptedBlob = await convergentEncrypt(file, hashPlain)

// ä¸Šä¼ åŠ å¯†åŽçš„æ–‡ä»¶
const formData = new FormData()
formData.append('hash_plain', hashPlain)
formData.append('file', encryptedBlob, filename)
```

### 3. æ–‡ä»¶ç®¡ç†

- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€å¤šæ–‡ä»¶é€‰æ‹©
- **æ–‡ä»¶åˆ—è¡¨**: å±•ç¤ºå·²ä¸Šä¼ æ–‡ä»¶ï¼Œæ”¯æŒä¸‹è½½å’Œåˆ é™¤
- **æ–‡ä»¶ç±»åž‹**: è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»åž‹å¹¶æ˜¾ç¤ºå¯¹åº”å›¾æ ‡

## API æŽ¥å£

### è®¤è¯æŽ¥å£

```typescript
// ç”¨æˆ·æ³¨å†Œ
POST /api/auth/register
{
  "username": "string",
  "password": "string",
  "nickname": "string"
}

// ç”¨æˆ·ç™»å½•
POST /api/auth/login
{
  "username": "string",
  "password": "string"
}
```

### æ–‡ä»¶æŽ¥å£

```typescript
// æ–‡ä»¶ä¸Šä¼ 
POST /api/file/upload
Content-Type: multipart/form-data
Body: FormData(hash_plain, file)

// èŽ·å–æ–‡ä»¶åˆ—è¡¨
GET /api/file/list

// ä¸‹è½½æ–‡ä»¶
GET /api/file/download/{fileId}
```

## å¼€å‘è¯´æ˜Ž

### çŽ¯å¢ƒé…ç½®

å¼€å‘çŽ¯å¢ƒä¼šé€šè¿‡ Vite ä»£ç†å°† `/api` è¯·æ±‚è½¬å‘åˆ°åŽç«¯æœåŠ¡å™¨ï¼ˆé»˜è®¤ http://localhost:8080ï¼‰ã€‚

### æ ·å¼è§„èŒƒ

- ä½¿ç”¨è“ç™½ç§‘æŠ€é£Žæ ¼é…è‰²
- ä¸»è¦é¢œè‰²: #3b82f6 (è“è‰²)
- åœ†è§’è®¾è®¡ï¼ŒçŽ°ä»£åŒ–ç•Œé¢
- å“åº”å¼å¸ƒå±€é€‚é…ç§»åŠ¨ç«¯

### å®‰å…¨è€ƒè™‘

- æ‰€æœ‰åŠ å¯†æ“ä½œåœ¨å®¢æˆ·ç«¯å®Œæˆ
- ä¼ è¾“è¿‡ç¨‹ä½¿ç”¨ HTTPSï¼ˆç”Ÿäº§çŽ¯å¢ƒï¼‰
- Cookie è®¾ç½® httpOnly å’Œ secure å±žæ€§
- JWT Token æœ‰æ•ˆæœŸæŽ§åˆ¶

## éƒ¨ç½²è¯´æ˜Ž

1. æž„å»ºç”Ÿäº§ç‰ˆæœ¬: `npm run build`
2. å°† `dist` ç›®å½•éƒ¨ç½²åˆ°é™æ€æ–‡ä»¶æœåŠ¡å™¨
3. é…ç½®åå‘ä»£ç†å°† `/api` è½¬å‘åˆ°åŽç«¯æœåŠ¡å™¨
4. é…ç½® HTTPS å’Œå®‰å…¨å¤´

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome >= 88
- Firefox >= 85
- Safari >= 14
- Edge >= 88

## License

MIT License
